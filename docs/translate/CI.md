# 持续集成系统

作者： Malini Das
翻译： 王世德

Malini Das 是一个软件工程师，她对快速安全的开发和解决交叉功能问题充满兴趣。她在Mozilla是一个工具工程师，现在在Twitch学习。可以通过[Twitter](https://twitter.com/malinidas)或者[博客](http://malinidas.com/)关注Manlini。

## 什么是持续集成系统？

当我们开发软觉得时候，我们想要验证新的特性或者bug修改是安全的符合预期。我们通过运行测试用例验证。有时候，开发者或许没有时间在每个软件运行的系统上测试代码，进一步，当越来越多的代码添加进去的时候，运行用例的时间也会越来越长，有时候即使是局部运行，也是不切实际的。源于此，创建了持续集成系统。

持续集成（CI)系统适用于测试新代码的专用系统，当提交代码到代码仓库的时候，持续集成系统的职责是验证本次提交不会破坏任何用例。为了实现这种效果，系统需要获取新的变更，运行测试用例，然后输出运行结果。与其他任何系统类似， 应该能抵抗失败，这意味着如果系统的任何部分出现故障，应该从那个点恢复然后继续运行。

测试系统应该也可以很好地处理负载，这样我们可以在合理的实际范围内获得测试结果，防止提交比测试用例运行得更快。可以通过分布和并行测试工作来达到这样的效果。这个项目演示一个小规模的，分布式的持续集成系统，这是一个简单的系统，但设计成可以扩展的系统。

## 项目约束和注意项

这个项目使用Git作为需要测试的代码库。仅仅标准的源代码管理调用会被使用，所以如果你不熟悉Git但对其它版本控制系统（VCS）如svn或者Mercurial熟悉，仍可以继续阅读下面的内容。

这个项目假设你使用POSIX系统。

因为对代码长度和测试用例用例的限制，简化了测试用例的发现。我们会*仅仅*运行那些在代码库中命名为`tests`目录下的测试用例。


持续集成系统监视主仓库，通常会放置在web服务器上，对CI的文件系统而言，并不是本地的。对于我们的例子，会使用本地仓库而不是远程库。

持续集成系统不需要再固定、定期运行。可以对一些提交运行，或者每个提交。对我们的例子而言，CI系统会周期运行，这意味着如果设置没5分钟检查一次变更，它会对5分钟后最近提交的代码运行测试用例。不会测试周期时间内的每次提交的代码，而仅仅是最近的一次。

这个Ci系统被设计成周期检查变更，在实际的CI系统中，我们可以通过仓库监视器来获得通知。例如Github提供了